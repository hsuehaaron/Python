import requests
from bs4 import BeautifulSoup

# 获取赔率数据
def get_odds_data(url):
    page = requests.get(url)
    soup = BeautifulSoup(page.content, 'html.parser')
    odds_table = soup.find_all('table')[0]
    rows = odds_table.find_all('tr')
    odds_data = []
    for row in rows:
        cols = row.find_all('td')
        cols = [ele.text.strip() for ele in cols]
        if cols:
            odds_data.append([float(cols[0]), float(cols[1]), float(cols[2])])
    return odds_data

# 比较赔率
def compare_odds(odds_data):
    best_odds = max(odds_data, key=lambda x: x[2])
    return best_odds

# 主函数
def main():
    # 赔率数据源
    urls = ['https://www.oddsportal.com/soccer/england/premier-league/results/', 
            'https://www.oddsportal.com/soccer/spain/laliga/results/']
    # 获取赔率数据并比较
    for url in urls:
        odds_data = get_odds_data(url)
        best_odds = compare_odds(odds_data)
        print(f"Best odds for {url} is {best_odds}")
        
if __name__ == '__main__':
    main()
